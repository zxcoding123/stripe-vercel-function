(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[457],{5829:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/verification-complete",function(){return t(4040)}])},4040:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return VerificationComplete}});var i=t(5893),n=t(7294),o=t(1163),s=t(5675),c=t.n(s);function VerificationComplete(){let e=(0,o.useRouter)(),[r,t]=(0,n.useState)("loading"),[s,l]=(0,n.useState)(""),[a,d]=(0,n.useState)(null),u=(0,n.useRef)(null),f=(0,n.useRef)(null);(0,n.useEffect)(()=>{let r=document.createElement("link");r.href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&display=swap",r.rel="stylesheet",document.head.appendChild(r);let checkVerificationStatus=async()=>{let{verification_session:r}=e.query;if(!r){t("error"),l("No verification session found in the URL.");return}let i=new AbortController;f.current=i;try{let e=await fetch("/api/check-verification?session_id=".concat(encodeURIComponent(r)),{signal:i.signal}),n=await e.json();if("verified"===n.status){t("success"),l("Your identity has been successfully verified!");let e="/form-instructions?product=".concat(encodeURIComponent("IRS ACCOUNT TRANSCRIPT"));d(5),u.current=setInterval(()=>{d(r=>null===r?null:r<=1?(clearInterval(u.current),u.current=null,window.location.href=e,0):r-1)},1e3)}else"requires_input"===n.status?(t("pending"),l("Additional information required. Please check your email for instructions.")):"processing"===n.status?(t("pending"),l("Your verification is being processed...")):"canceled"===n.status?(t("error"),l("Verification was canceled.")):(t("pending"),l("Status: ".concat(String(n.status))))}catch(e){if("AbortError"===e.name)return;console.error("Verification check failed:",e),t("error"),l("Error checking verification status. Please try again later.")}};return e.isReady&&checkVerificationStatus(),()=>{f.current&&(f.current.abort(),f.current=null),u.current&&(clearInterval(u.current),u.current=null)}},[e.isReady,e.query]);let p={padding:"1.5rem",borderRadius:"12px",marginTop:"1rem",background:"#ffffff",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"};return(0,i.jsxs)("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"#0f2c76",color:"#ffffff",fontFamily:"'Playfair Display', serif",textAlign:"center",padding:"2rem"},children:[(0,i.jsx)(c(),{src:"/gtr_logo.png",alt:"GetTaxRelief Logo",width:150,height:50,style:{marginBottom:"2rem"},priority:!0}),(0,i.jsx)("h1",{style:{color:"#ddc946",marginBottom:"1.5rem"},children:"Verification Status"}),"loading"===r&&(0,i.jsx)("p",{children:"Checking verification status..."}),"success"===r&&(0,i.jsxs)("div",{style:{...p,border:"2px solid #0f2c76",color:"#0f2c76",maxWidth:"500px"},role:"status","aria-live":"polite",children:[(0,i.jsx)("h3",{children:"✅ Success!"}),(0,i.jsx)("p",{children:s}),"number"==typeof a&&(0,i.jsxs)("p",{style:{marginTop:"1rem",fontSize:"0.95rem",color:"#666"},children:["Redirecting you in ",a," second",1===a?"":"s","..."]})]}),"pending"===r&&(0,i.jsxs)("div",{style:{...p,border:"2px solid #ddc946",color:"#ddc946",maxWidth:"500px"},role:"status","aria-live":"polite",children:[(0,i.jsx)("h3",{children:"⏳ Processing"}),(0,i.jsx)("p",{children:s})]}),"error"===r&&(0,i.jsxs)("div",{style:{...p,border:"2px solid red",color:"red",maxWidth:"500px"},role:"alert","aria-live":"assertive",children:[(0,i.jsx)("h3",{children:"❌ Error"}),(0,i.jsx)("p",{children:s})]}),(0,i.jsx)("div",{style:{marginTop:"2rem"},children:(0,i.jsx)("button",{onClick:()=>window.location.href="https://www.gettaxreliefnow.com",style:{padding:"0.75rem 1.5rem",fontSize:"1rem",cursor:"pointer",borderRadius:"8px",border:"none",backgroundColor:"#ddc946",color:"#0f2c76",fontWeight:"bold",transition:"all 0.3s ease"},onMouseOver:e=>{e.target.style.backgroundColor="#ffffff",e.target.style.color="#0f2c76"},onMouseOut:e=>{e.target.style.backgroundColor="#ddc946",e.target.style.color="#0f2c76"},children:"Return to Home"})})]})}},1163:function(e,r,t){e.exports=t(9974)}},function(e){e.O(0,[774,675,888,179],function(){return e(e.s=5829)}),_N_E=e.O()}]);