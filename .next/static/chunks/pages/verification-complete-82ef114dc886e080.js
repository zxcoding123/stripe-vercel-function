(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[457],{5829:function(e,r,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/verification-complete",function(){return i(4040)}])},4040:function(e,r,i){"use strict";i.r(r),i.d(r,{default:function(){return VerificationComplete}});var n=i(5893),t=i(7294),o=i(1163),c=i(5675),s=i.n(c);function VerificationComplete(){let e=(0,o.useRouter)(),[r,i]=(0,t.useState)("loading"),[c,l]=(0,t.useState)(""),[a,d]=(0,t.useState)(null),u=(0,t.useRef)(null),f=(0,t.useRef)(null);(0,t.useEffect)(()=>{let checkVerificationStatus=async()=>{let{verification_session:r,product:n}=e.query;if(!r){i("error"),l("No verification session found in the URL.");return}let t=new AbortController;f.current=t;try{let e=await fetch("/api/check-verification?verification_session=".concat(encodeURIComponent(r)),{signal:t.signal}),o=await e.json();if("verified"===o.status){i("success"),l("Your identity has been successfully verified!");let e="/form-instructions?product=".concat(encodeURIComponent(n||o.product||""));d(5),u.current=setInterval(()=>{d(r=>null===r?null:r<=1?(clearInterval(u.current),u.current=null,window.location.href=e,0):r-1)},1e3)}else"requires_input"===o.status?(i("pending"),l("Additional information required. Please check your email.")):"processing"===o.status?(i("pending"),l("Your verification is being processed...")):"canceled"===o.status?(i("error"),l("Verification was canceled.")):(i("pending"),l("Status: ".concat(String(o.status))))}catch(e){"AbortError"!==e.name&&(console.error("Verification check failed:",e),i("error"),l("Error checking verification status. Please try again later."))}};return e.isReady&&checkVerificationStatus(),()=>{f.current&&f.current.abort(),u.current&&clearInterval(u.current)}},[e.isReady,e.query]);let p={padding:"1.5rem",borderRadius:"12px",marginTop:"1rem",background:"#ffffff",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"};return(0,n.jsxs)("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"#0f2c76",color:"#ffffff",fontFamily:"'Playfair Display', serif",textAlign:"center",padding:"2rem"},children:[(0,n.jsx)(s(),{src:"/gtr_logo.png",alt:"GetTaxRelief Logo",width:150,height:50,style:{marginBottom:"2rem"},priority:!0}),(0,n.jsx)("h1",{style:{color:"#ddc946",marginBottom:"1.5rem"},children:"Verification Status"}),"loading"===r&&(0,n.jsx)("p",{children:"Checking verification status..."}),"success"===r&&(0,n.jsxs)("div",{style:{...p,border:"2px solid #0f2c76",color:"#0f2c76",maxWidth:"500px"},children:[(0,n.jsx)("h3",{children:"✅ Success!"}),(0,n.jsx)("p",{children:c}),"number"==typeof a&&(0,n.jsxs)("p",{style:{marginTop:"1rem",fontSize:"0.95rem",color:"#666"},children:["Redirecting you in ",a," second",1===a?"":"s","..."]})]}),"pending"===r&&(0,n.jsxs)("div",{style:{...p,border:"2px solid #ddc946",color:"#ddc946",maxWidth:"500px"},children:[(0,n.jsx)("h3",{children:"⏳ Processing"}),(0,n.jsx)("p",{children:c})]}),"error"===r&&(0,n.jsxs)("div",{style:{...p,border:"2px solid red",color:"red",maxWidth:"500px"},children:[(0,n.jsx)("h3",{children:"❌ Error"}),(0,n.jsx)("p",{children:c})]}),(0,n.jsx)("div",{style:{marginTop:"2rem"},children:(0,n.jsx)("button",{onClick:()=>window.location.href="https://www.gettaxreliefnow.com",style:{padding:"0.75rem 1.5rem",fontSize:"1rem",cursor:"pointer",borderRadius:"8px",border:"none",backgroundColor:"#ddc946",color:"#0f2c76",fontWeight:"bold",transition:"all 0.3s ease"},children:"Return to Home"})})]})}},1163:function(e,r,i){e.exports=i(9974)}},function(e){e.O(0,[774,675,888,179],function(){return e(e.s=5829)}),_N_E=e.O()}]);