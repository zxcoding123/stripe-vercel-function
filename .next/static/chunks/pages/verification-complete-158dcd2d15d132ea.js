(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[457],{5829:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/verification-complete",function(){return t(4040)}])},4040:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return VerificationComplete}});var i=t(5893),n=t(7294),o=t(1163),c=t(5675),s=t.n(c);function VerificationComplete(){(0,o.useRouter)();let[e,r]=(0,n.useState)("loading"),[t,c]=(0,n.useState)(""),[a,l]=(0,n.useState)(null),d=(0,n.useRef)(null),u=(0,n.useRef)(null);(0,n.useEffect)(()=>{let checkVerificationStatus=async()=>{let e=new AbortController;u.current=e;try{let t=await fetch("/api/check-verification",{credentials:"include",signal:e.signal});if(400===t.status){let e=await t.json();r("error"),c(e.error||"Session expired or not found. Please start over.");return}if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));let i=await t.json();if("verified"===i.status){r("success"),c("Your identity has been successfully verified!");let e="/form-instructions?product=".concat(encodeURIComponent(i.product||""));l(5),d.current=setInterval(()=>{l(r=>null===r?null:r<=1?(clearInterval(d.current),d.current=null,window.location.href=e,0):r-1)},1e3)}else"requires_input"===i.status?(r("pending"),c("Additional information required. Please check your email.")):"processing"===i.status?(r("pending"),c("Your verification is being processed...")):"canceled"===i.status?(r("error"),c("Verification was canceled.")):(r("pending"),c("Status: ".concat(String(i.status))))}catch(e){"AbortError"!==e.name&&(console.error("Verification check failed:",e),r("error"),c("Error checking verification status. Please try again later."))}};return checkVerificationStatus(),()=>{u.current&&u.current.abort(),d.current&&clearInterval(d.current)}},[]);let f={padding:"1.5rem",borderRadius:"12px",marginTop:"1rem",background:"#ffffff",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"};return(0,i.jsxs)("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"#0f2c76",color:"#ffffff",fontFamily:"'Playfair Display', serif",textAlign:"center",padding:"2rem"},children:[(0,i.jsx)(s(),{src:"/gtr_logo.png",alt:"GetTaxRelief Logo",width:150,height:50,style:{marginBottom:"2rem"},priority:!0}),(0,i.jsx)("h1",{style:{color:"#ddc946",marginBottom:"1.5rem"},children:"Verification Status"}),"loading"===e&&(0,i.jsx)("p",{children:"Checking verification status..."}),"success"===e&&(0,i.jsxs)("div",{style:{...f,border:"2px solid #0f2c76",color:"#0f2c76",maxWidth:"500px"},children:[(0,i.jsx)("h3",{children:"✅ Success!"}),(0,i.jsx)("p",{children:t}),"number"==typeof a&&(0,i.jsxs)("p",{style:{marginTop:"1rem",fontSize:"0.95rem",color:"#666"},children:["Redirecting you in ",a," second",1===a?"":"s","..."]})]}),"pending"===e&&(0,i.jsxs)("div",{style:{...f,border:"2px solid #ddc946",color:"#ddc946",maxWidth:"500px"},children:[(0,i.jsx)("h3",{children:"⏳ Processing"}),(0,i.jsx)("p",{children:t})]}),"error"===e&&(0,i.jsxs)("div",{style:{...f,border:"2px solid red",color:"red",maxWidth:"500px"},children:[(0,i.jsx)("h3",{children:"❌ Error"}),(0,i.jsx)("p",{children:t}),(0,i.jsx)("button",{onClick:()=>{document.cookie="verification_session=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",window.location.href="/verification-start"},style:{marginTop:"1rem",padding:"0.5rem 1rem",backgroundColor:"#0f2c76",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Restart Verification"})]}),(0,i.jsx)("div",{style:{marginTop:"2rem"},children:(0,i.jsx)("button",{onClick:()=>window.location.href="https://www.gettaxreliefnow.com",style:{padding:"0.75rem 1.5rem",fontSize:"1rem",cursor:"pointer",borderRadius:"8px",border:"none",backgroundColor:"#ddc946",color:"#0f2c76",fontWeight:"bold",transition:"all 0.3s ease"},children:"Return to Home"})})]})}},1163:function(e,r,t){e.exports=t(9974)}},function(e){e.O(0,[774,675,888,179],function(){return e(e.s=5829)}),_N_E=e.O()}]);